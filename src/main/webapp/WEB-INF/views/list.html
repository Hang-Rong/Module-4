<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Blog List</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
<h1>Blog List</h1>
<div class="mb-3">
  <a href="/blogs/create" class="btn btn-primary">Create New Blog</a>
</div>

<form action="/blogs/search" method="get" class="mb-4">
  <div class="input-group">
    <input type="text" name="keyword" class="form-control" placeholder="Search title...">
    <button type="submit" class="btn btn-outline-secondary">Search</button>
  </div>
</form>

<ul class="list-group">
  <li th:each="blog : ${blogs}" class="list-group-item">
    <h3 th:text="${blog.title}"></h3>
    <p><strong>Category:</strong> <span th:text="${blog.category.name}"></span></p>
    <p><strong>Created At:</strong> <span th:text="${#dates.format(blog.createdAt, 'dd/MM/yyyy HH:mm')}"></span></p>
    <div>
      <a th:href="@{/blogs/{id}(id=${blog.id})}" class="btn btn-info btn-sm">View</a>
      <a th:href="@{/blogs/{id}/edit(id=${blog.id})}" class="btn btn-warning btn-sm">Edit</a>
      <a th:href="@{/blogs/{id}/delete(id=${blog.id})}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">Delete</a>
    </div>
  </li>
</ul>

<h2 class="mt-5">Categories</h2>
<ul class="list-group">
  <li th:each="category : ${categories}" class="list-group-item">
    <a th:href="@{/blogs/category/{id}(id=${category.id})}" th:text="${category.name}"></a>
  </li>
</ul>
</body>
</html>
